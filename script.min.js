function changePic(t){picNum+=t,prevPic.disabled=0===picNum,picNum===picData.length?nextPic.disabled=!0:nextPic.disabled=!1,pic.style.animation="",pic.style.mask="",pic.style["-webkit-mask"]="",pic.src="",picTitle.textContent="";let e=new Image;e.onload=(()=>{pic.src=e.src,picTitle.textContent=picData[picNum].data.title}),e.src=picData[picNum].data.url}function toggleShotMode(){null===document.fullscreenElement?(picTitle.style.opacity=0,document.body.requestFullscreen()):(picTitle.style.opacity=1,document.exitFullscreen())}const prevPic=document.getElementById("prev-pic"),nextPic=document.getElementById("next-pic"),shotModer=document.getElementById("shot-moder"),pic=document.getElementById("pic"),picTitle=document.getElementById("pic-title");let picData=[],httpRequest=new XMLHttpRequest;httpRequest.open("GET","https://www.reddit.com/r/rabbits/best.json?limit=80"),httpRequest.send(),httpRequest.onreadystatechange=(()=>{if(4===httpRequest.readyState){if(console.log(httpRequest.status),httpRequest.status>=200&&httpRequest.status<400){let t=JSON.parse(httpRequest.responseText).data.children;return t.forEach(t=>{t.data.stickied||t.data.is_video||t.data.over_18||t.data.gallery_data||picData.push(t)}),nextPic.disabled=!1,prevPic.disabled=!1,shotModer.disabled=!1,nextPic.click(),picTitle.style.display="block",void console.log("done")}pic.classList.add("error")}});let picNum=-1;prevPic.onclick=(()=>{changePic(-1)}),nextPic.onclick=(()=>{changePic(1)}),shotModer.onclick=(()=>{toggleShotMode()});